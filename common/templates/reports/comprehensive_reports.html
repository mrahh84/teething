{% extends "base.html" %}
{% load static %}

{% block title %}Comprehensive Reports - Road Attendance System{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-header">
        <h1 class="dashboard-title">📊 Comprehensive Reports</h1>
        <p class="dashboard-subtitle">Advanced reporting and analytics dashboard</p>
    </div>
    
    <!-- Report Summary -->
    <div class="card-grid">
        <div class="card">
            <div class="card-value text-primary">{{ total_reports }}</div>
            <div class="card-label">Total Reports</div>
        </div>
        <div class="card">
            <div class="card-value text-success">{{ active_reports }}</div>
            <div class="card-label">Active Reports</div>
        </div>
        <div class="card">
            <div class="card-value text-warning">{{ pending_reports }}</div>
            <div class="card-label">Pending Reports</div>
        </div>
        <div class="card">
            <div class="card-value text-info">{{ completion_rate }}%</div>
            <div class="card-label">Completion Rate</div>
        </div>
    </div>
    
    <!-- Report Categories -->
    <div class="section">
        <div class="section-header">
            <h3 class="section-title">📋 Report Categories</h3>
        </div>
        <div class="section-body">
            <div class="card-grid">
                <div class="card">
                    <div class="card-value">📊</div>
                    <div class="card-label">Attendance Reports</div>
                    <div style="margin-top: 1rem;">
                        <a href="{% url 'comprehensive_attendance_report' %}" class="btn btn-primary btn-sm">View Reports</a>
                    </div>
                </div>
                <div class="card">
                    <div class="card-value">📈</div>
                    <div class="card-label">Analytics Reports</div>
                    <div style="margin-top: 1rem;">
                        
                    </div>
                </div>
                <div class="card">
                    <div class="card-value">🔍</div>
                    <div class="card-label">Pattern Recognition</div>
                    <div style="margin-top: 1rem;">
                        <a href="{% url 'pattern_recognition_dashboard' %}" class="btn btn-warning btn-sm">View Patterns</a>
                    </div>
                </div>
                <div class="card">
                    <div class="card-value">🔮</div>
                    <div class="card-label">Predictive Analytics</div>
                    <div style="margin-top: 1rem;">
                        <a href="{% url 'predictive_analytics_dashboard' %}" class="btn btn-info btn-sm">View Predictions</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Recent Reports -->
    <div class="section">
        <div class="section-header">
            <h3 class="section-title">📋 Recent Reports</h3>
        </div>
        <div class="section-body">
            {% if recent_reports %}
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Report Name</th>
                            <th>Type</th>
                            <th>Generated Date</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for report in recent_reports %}
                        <tr>
                            <td><strong>{{ report.name }}</strong></td>
                            <td>{{ report.type }}</td>
                            <td>{{ report.generated_date|date:"M d, Y" }}</td>
                            <td>
                                <span class="status-badge status-{{ report.status|lower }}">
                                    {{ report.get_status_display }}
                                </span>
                            </td>
                            <td>
                                <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                    <a href="{{ report.download_url }}" class="btn btn-primary btn-sm">📥 Download</a>
                                    <a href="{{ report.view_url }}" class="btn btn-secondary btn-sm">👁️ View</a>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            {% else %}
            <div style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                <p>No recent reports available.</p>
            </div>
            {% endif %}
        </div>
    </div>
    
    <!-- Quick Actions -->
    <div class="section">
        <div class="section-header">
            <h3 class="section-title">⚡ Quick Actions</h3>
        </div>
        <div class="section-body">
            <div style="display: flex; gap: 1rem; flex-wrap: wrap; justify-content: center;">
                <a href="{% url 'daily_dashboard_report' %}" class="btn btn-primary">📅 Daily Dashboard</a>
                <a href="{% url 'employee_history_report' %}" class="btn btn-success">👥 Employee History</a>
                <a href="{% url 'period_summary_report' %}" class="btn btn-warning">📊 Period Summary</a>
                <a href="{% url 'performance_dashboard' %}" class="btn btn-info">⚡ Performance</a>
            </div>
        </div>
    </div>
</div>
{% endblock %} 